{"version":3,"sources":["webpack:///./src/util/comUtil.js","webpack:///./src/view/room/room.vue","webpack:///./src/view/room/room.vue?3763","webpack:///./src/view/room/room.vue?7be7","webpack:///./src/util/axiosConfig.js"],"names":["comUtil","clone","obj","JSON","parse","stringify","formatTime","time","type","typeFin","Moment","format","formatMoney","money","Number","toFixed","formatNumber","data","parseFloat","formatPercent","room_room","props","selectArray","value","label","selectArray2","select1","select2","listData","miniRefresh","computed","selectValue1","this","selectValue2","_","find","o","watch","currentData","newVal","oldVal","getRoomList","created","currentInfo","localStorage","getItem","mounted","methods","changeSelect","filter","allData","roomType","roomStatus","selectClick1","that","weui","picker","className","container","onConfirm","result","id","selectClick2","_this","params","holderId","holderType","holderGroup","holdGroup","$ajaxPost","urls","GETROOMINFO","then","res","dealData","endDownLoading","list","_this2","length","forEach","item","index","restDay","transformTime","restMinute","newTime","Math","floor","dealClass","status","flag","roomOrder","billBatch","getRoomBodyBackground","statusColor","isTimeout","color","formatDate","appointmentDate","Date","replace","components","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","click","_v","_s","_l","key","class","roomName","totalGoodsAmount","_e","style","background-color","child","sex","number","statusName","timing","remark","_m","roomAppointment","customerName","customerPhone","customerNumber","domProps","innerHTML","available","src","alt","seatNum","staticRenderFns","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__","__webpack_require__","d","base_url","BASE_URL","in_theaters","LOGIN","GETBUSINESSDATEINFO","GETBUSINESSBASEINFO","GETBILLINFOWITHOUTFREE","GETBILLINFOWITHFREE","GETRECHARGESUMINFO","GETCASHFLOWSUMINFO","GETROOMSTATUSINFO","GETTECHNICIANQUEUE"],"mappings":"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","file":"js/room.31e7d844.js","sourcesContent":["/*\r\n * @Author:      changh\r\n * @DateTime:    2018\r\n * @Description: 公共方法\r\n */\r\n\r\n// import _ from 'lodash'\r\n\r\nexport default {\r\n  // 克隆\r\n  clone (obj) {\r\n    return JSON.parse(JSON.stringify(obj))\r\n  },\r\n\r\n  // 格式化时间\r\n  formatTime (time, type) {\r\n    let typeFin = type || 'YYYY-MM-DD HH:mm:ss'\r\n    return Moment(time * 1000).format(typeFin)\r\n  },\r\n\r\n  // 格式化金额\r\n  formatMoney (money) {\r\n    return Number(money).toFixed(2)\r\n  },\r\n\r\n  // 格式化为数字去掉无用的0\r\n  formatNumber (data) {\r\n    if (data != 0 && !data) return\r\n    return parseFloat(Number(data).toFixed(2))\r\n  },\r\n  // 格式化为百分比去掉无用的0\r\n  formatPercent (data) {\r\n    if (!data) return 0\r\n    // if (data > 1) return 1\r\n    return parseFloat((Number(data) * 100).toFixed(2))\r\n  }\r\n\r\n}\r\n","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//加载相关依赖\nimport comUtil from '@Util/comUtil';\nimport {urls} from '@Util/axiosConfig';\nexport default {\n  props: ['currentData'],\n  data() {\n    return {\n      comUtil: comUtil,\n      // roomType 1 浴足房间；2 棋牌房间\n      selectArray: [{\n          value: \"0\",\n          label: \"全部\"\n        }, {\n          value: \"1\",\n          label: \"浴足房间\"\n        }, {\n          value: \"2\",\n          label: \"棋牌房间\"\n        },\n      ],\n      // roomStatus\n      // 1：停用\n      // 2：空闲中\n      // 5：使用中\n      // 8：已买单未离开\n      // 9：需要打扫\n      // 10：已预约\n      // 11:房间暂停\n      selectArray2: [\n        {\n          value: \"0\",\n          label: \"全部\"\n        }, {\n          value: \"1\",\n          label: \"停用\"\n        }, {\n          value: \"2\",\n          label: \"空闲中\"\n        }, {\n          value: \"5\",\n          label: \"使用中\"\n        }, {\n          value: \"8\",\n          label: \"已买单未离开\"\n        }, {\n          value: \"9\",\n          label: \"需要打扫\"\n        },\n        {\n          value: \"10\",\n          label: \"已预约\"\n        },\n        {\n          value: \"11\",\n          label: \"房间暂停\"\n        }\n      ],\n\n      select1: '0',\n      select2: '0',\n\n      listData:[],\n\n      miniRefresh: null,\n\n    }\n  },\n  computed: {\n\n    selectValue1(){\n      return this.selectArray[Number(this.select1)].label\n    },\n\n    selectValue2(){\n      let select2 = this.select2\n      let obj = _.find(this.selectArray2, function(o) { return o.value == select2 })\n      return obj.label\n    }\n\n  },\n  watch:{\n    currentData(newVal,oldVal){\n      if(newVal == 1){\n        this.select1 = '0';\n        this.select2 = '0';\n        this.getRoomList();\n      }\n    }\n  },\n  created(){\n    let currentInfo = localStorage.getItem('currentInfo')\n    this.currentInfo = JSON.parse(currentInfo)\n\n    this.getRoomList();\n  },\n  mounted(){\n\n  },\n  methods: {\n    // 筛选\n    changeSelect(){\n      let select1 = Number(this.select1);\n      let select2 = Number(this.select2);\n      if(select1 && !select2){\n        this.listData =  _.filter(this.allData, { 'roomType': this.select1 });\n      }else if(select1 && select2){\n        this.listData =  _.filter(this.allData, { 'roomType': this.select1, 'roomStatus': this.select2});\n      }else if(!select1 && select2){\n        this.listData =  _.filter(this.allData, { 'roomStatus': this.select2});\n      }else{\n        this.listData = comUtil.clone(this.allData)\n      }\n    },\n\n    // 下拉筛选\n    selectClick1(){\n      // 单列picker\n      let that = this\n      weui.picker(this.selectArray, {\n        className: 'custom-classname',\n        container: 'body',\n        // defaultValue: [3],\n        onConfirm: function (result) {\n            that.select1 = result[0].value\n            that.changeSelect()\n        },\n        id: 'singleLinePicker'\n      });\n    },\n    selectClick2(){\n      // 单列picker\n      let that = this\n      weui.picker(this.selectArray2, {\n        className: 'custom-classname',\n        container: 'body',\n        // defaultValue: [3],\n        onConfirm: function (result) {\n            that.select2 = result[0].value\n            that.changeSelect()\n        },\n        id: 'singleLinePicker2'\n      });\n    },\n\n    // 获取技师列表\n    getRoomList(){\n      let params = {\n        holderId: this.currentInfo.holderId,\n        holderType: this.currentInfo.holderType,\n        holderGroup: this.currentInfo.holdGroup,\n      }\n      this.$ajaxPost(urls.GETROOMINFO, params).then(res => {\n        if(res){\n          this.allData = this.dealData(res.data);\n          this.listData = comUtil.clone(this.allData)\n        }\n        // 重置\n        this.miniRefresh.endDownLoading();\n        this.select1 = '0';\n        this.select2 = '0';\n      })\n    },\n\n    // 处理时间\n    dealData(list){\n      if(!list || !list.length) return;\n      list.forEach((item,index) => {\n        item.restDay = this.transformTime(item.restMinute)\n      })\n      return list;\n    },\n\n    transformTime(time){\n      let newTime = null\n      if(time > 1440){\n        newTime = Math.floor(time/1440)\n      }else{\n        newTime = null\n      }\n      return newTime;\n    },\n\n    // 顶部颜色\n    dealClass(status, item){\n      // 是在roomStatus为3,5,11,12时才存在  此时仍然存在没有批次号，billBatch\n      let flag = false;\n      if((status == 3 || status == 5 || status == 11 ||  status == 12) && item.roomOrder && item.roomOrder.billBatch){\n        flag = true\n      }else{\n        flag = false;\n      }\n\n      return flag;\n    },\n\n    //房间背景\n    getRoomBodyBackground(status){\n      if(status=='10'){\n          return '#cbffc8'\n      } else if(status=='2'|| status == '9'){\n          return '#BEDCF7'\n      } else {\n          return '#fff'\n      }\n    },\n\n    // 中间颜色\n    // 当字段status为待上钟状态(1)和正在上钟状态(2)时，如果字段isTimeout显示为true,表示技师超时，该行背景变为红色，正常情况下显示绿色\n    statusColor(status,isTimeout){\n      let color = ''\n      if(status == 1 || status == 2){\n        if(isTimeout == true){\n          color = 'color-error'\n        }else{\n          color = 'color-success'\n        }\n      }else if(status == 3){\n        color = 'color-success'\n      }else{\n        color = 'color-warning'\n      }\n      return color;\n    },\n\n    formatDate(appointmentDate){\n      if(appointmentDate){\n        return comUtil.formatTime(new Date(appointmentDate.replace(/-/g,'/'))/1000,'YY/MM/DD HH:mm');\n      } else{\n        return '';\n      }\n    }\n\n  },\n  components: {\n\n  }\n}\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room-container\"},[_c('div',{staticClass:\"clearfix select-main\"},[_c('div',{staticClass:\"custom_input\"},[_c('div',{staticClass:\"simulate_input\",attrs:{\"id\":\"singleLinePicker\"},on:{\"click\":_vm.selectClick1}},[_vm._v(\"\\n        \"+_vm._s(_vm.selectValue1)+\"\\n        \"),_c('span',{staticClass:\"iconfont icon-xiala\"})]),_vm._v(\" \"),_c('div',{staticClass:\"simulate_input\",attrs:{\"id\":\"singleLinePicker2\"},on:{\"click\":_vm.selectClick2}},[_vm._v(\"\\n        \"+_vm._s(_vm.selectValue2)+\"\\n        \"),_c('span',{staticClass:\"iconfont icon-xiala\"})])])]),_vm._v(\" \"),_c('div',{staticClass:\"room-container_main\"},[(_vm.listData && _vm.listData.length)?_c('div',{staticClass:\"clearfix list-main\"},_vm._l((_vm.listData),function(item,index){return _c('div',{key:index,staticClass:\"list-item\"},[(_vm.dealClass(item.roomStatus,item))?_c('div',{staticClass:\"list-item-top\",class:_vm.dealClass(item.roomStatus, item) ? 'active'+(item.roomOrder.billBatch%10) : ''},[_vm._v(\"\\n          \"+_vm._s(item.roomOrder.billBatch || '')+\" \"+_vm._s(item.roomName)+\"\\n          \"),_vm._v(\" \"),(item.roomOrder)?_c('span',{staticClass:\"item-top-right\"},[_vm._v(\"￥\"+_vm._s(item.roomOrder.totalGoodsAmount || 0)+_vm._s(item.roomType == 2 ? '+' : ''))]):_vm._e()]):_c('div',{staticClass:\"list-item-top\"},[_vm._v(\"\\n          \"+_vm._s(item.roomName)+\"\\n        \")]),_vm._v(\" \"),(item.roomStatus == 5 || item.roomStatus == 11)?_c('div',{staticClass:\"list-item-content clearfix\",style:({'background-color':_vm.getRoomBodyBackground(item.roomStatus)})},[_c('div',{staticClass:\"content-first\"},[_vm._v(\"使用中\")]),_vm._v(\" \"),_vm._l((item.cashierShowTechnicianInfoList),function(child,index){return _c('div',{key:index,staticClass:\"content-second \",class:_vm.statusColor(child.status,child.isTimeout)},[[_c('div',{staticClass:\"second-left\"},[(child.sex != 3)?_c('span',{staticClass:\"fa\",class:child.sex == 1 ? 'fa-female' : 'fa-male'}):_c('span',{staticClass:\"fa\"}),_vm._v(\"\\n                \"+_vm._s(child.number)+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"second-center\"},[_vm._v(_vm._s(child.statusName))]),_vm._v(\" \"),_c('div',{staticClass:\"second-right\"},[_vm._v(_vm._s(child.timing))])]],2)}),_vm._v(\" \"),(item.roomStatus == 5 || item.roomStatus == 11)?_c('div',{staticClass:\"content-bottom\"},[(item.remark)?_c('span',[_vm._v(\"备注:\"+_vm._s(item.remark))]):_vm._e()]):_vm._e(),_vm._v(\" \"),(item.restMinute && item.roomStatus != 11)?_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"mask-opacity\"}),_vm._v(\" \"),(item.restDay)?_c('span',{staticClass:\"mask-text mask-text-text\"},[_vm._v(_vm._s(item.restDay)),_c('span',{staticClass:\"unit\"},[_vm._v(\"天\")])]):_c('span',{staticClass:\"mask-text mask-text-text\"},[_vm._v(_vm._s(item.restMinute)),_c('span',{staticClass:\"unit\"},[_vm._v(\"分钟\")])])]):_vm._e(),_vm._v(\" \"),(item.roomStatus == '11')?_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"mask-opacity\"}),_vm._v(\" \"),_vm._m(0,true)]):_vm._e()],2):(item.roomStatus == 10)?_c('div',{staticClass:\"list-item-content clearfix\",style:({'background-color':_vm.getRoomBodyBackground(item.roomStatus)})},[_c('div',{staticClass:\"content-first\"},[_vm._v(\"已预约\")]),_vm._v(\" \"),(item.roomAppointment)?_c('ul',{staticClass:\"content-appointment\"},[_c('li',{staticClass:\"appointmentName\"},[_vm._v(_vm._s(item.roomAppointment.customerName))]),_vm._v(\" \"),_c('li',{staticClass:\"appointmentTel\"},[_vm._v(_vm._s(item.roomAppointment.customerPhone))]),_vm._v(\" \"),_c('li',{staticClass:\"appointmentNumber\"},[_vm._v(_vm._s(item.roomAppointment.customerNumber?item.roomAppointment.customerNumber+'位':''))]),_vm._v(\" \"),_c('li',{staticClass:\"appointmentTime\",domProps:{\"innerHTML\":_vm._s(_vm.formatDate(item.roomAppointment.appointmentDate))}})]):_vm._e()]):_c('div',{staticClass:\"list-item-content clearfix\",class:{available:item.roomStatus=='2' || item.roomStatus=='9'},style:({'background-color':_vm.getRoomBodyBackground(item.roomStatus)})},[_c('div',{staticClass:\"kong-content clearfix\"},[_c('div',{staticClass:\"icon-box\"},[_c('img',{attrs:{\"src\":item.roomStatus=='2' || item.roomStatus=='9'?'agentStatic/img/icon-free-available.png':'agentStatic/img/icon-free.png',\"alt\":\"\"}})]),_vm._v(\" \"),(item.roomStatus == 2)?_c('div',{staticClass:\"kong-text\"},[_vm._v(\"\\n              空闲中(\"+_vm._s(item.seatNum)+\"座)\\n            \")]):_vm._e(),_vm._v(\" \"),(item.roomStatus == 8)?_c('div',{staticClass:\"kong-text\"},[_vm._v(\"\\n              客人未离开(\"+_vm._s(item.seatNum)+\"座)\\n              \"),(item.remark)?_c('div',{staticClass:\"remark text-ellipsis2\"},[_vm._v(\"\\n                备注:\"+_vm._s(item.remark)+\"\\n              \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(item.roomStatus == 9)?_c('div',{staticClass:\"kong-text\"},[_vm._v(\"\\n              需要打扫(\"+_vm._s(item.seatNum)+\"座)\\n              \"),(item.remark)?_c('div',{staticClass:\"remark text-ellipsis2\"},[_vm._v(\"\\n                备注：\"+_vm._s(item.remark)+\"\\n              \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(item.roomStatus == 1)?_c('div',{staticClass:\"kong-text\"},[_vm._v(\"\\n              房间停用\\n            \")]):_vm._e()]),_vm._v(\" \"),(item.roomStatus == '11')?_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"mask-opacity\"}),_vm._v(\" \"),_vm._m(1,true)]):_vm._e()])])}),0):_c('div',{staticClass:\"clearfix list-main\"},[_c('img',{staticClass:\"noDate_img\",attrs:{\"src\":\"agentStatic/img/wushuju.png\",\"alt\":\"\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mask-text\"},[_c('div',{staticClass:\"img-box\"},[_c('img',{attrs:{\"src\":\"agentStatic/img/pauseBtn.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"texts\"},[_vm._v(\"暂停使用\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mask-text\"},[_c('div',{staticClass:\"img-box\"},[_c('img',{attrs:{\"src\":\"agentStatic/img/pauseBtn.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"texts\"},[_vm._v(\"暂停使用\")])])}]\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./room.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=script&index=0!./room.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c6ae9da\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/selector?type=template&index=0!./room.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/_vue-loader@14.2.4@vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","/*\n * @Author:      changh\n * @DateTime:    2018\n * @Description: 请求路径\n */\n\n// 默认地址\nlet base_url = 'https://szy.kiloxy.com'\n\nif (process.env.NODE_ENV == 'production') {\n  // 测试部使用的生产环境，上线时改为发布环境\n  // base_url = 'http://192.168.10.186:8080'\n  base_url = 'https://szy.kiloxy.com'\n} else {\n  // 开发环境\n  base_url = '/api'\n}\n\nexport const baseUrl = base_url\n\n// 所有请求具体url链接\nexport const urls = {\n  BASE_URL: base_url,\n  // 登录\n  in_theaters: 'movie/in_theaters',\n\n  LOGIN: 'user-api/mlogin',\n\n  // 获取客流量等统计数据\n  GETBUSINESSDATEINFO: base_url + '/wechatMini/getBusinessDateInfo',\n\n  // 获取客流量等统计数据\n  GETBUSINESSBASEINFO: base_url + '/wechatMini/getBusinessBaseInfo',\n\n  // 获取支付方式饼图数据  饼图一\n  GETBILLINFOWITHOUTFREE: base_url + '/wechatMini/getBillInfoWithoutFree',\n\n  // 收款方式\n  GETBILLINFOWITHFREE: base_url + '/wechatMini/getBillInfoWithFree',\n\n  // 会员卡信息\n  GETRECHARGESUMINFO: base_url + '/wechatMini/getRechargeSumInfo',\n\n  // 收款合计\n  GETCASHFLOWSUMINFO: base_url + '/wechatMini/getCashFlowSumInfo',\n\n  // 房间状态信息\n  GETROOMSTATUSINFO: base_url + '/wechatMini/getRoomStatusInfo',\n\n  GETROOMINFO: base_url + '/wechatMini/getRoomInfo',\n\n  // 技师状态\n  GETTECHNICIANQUEUE: base_url + '/wechatMini/getTechnicianQueue'\n\n}\n\n"],"sourceRoot":""}