(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["technician"],{"30a8":function(t,s,e){s=t.exports=e("690e")(!1),s.push([t.i,"",""])},"520a":function(t,s,e){t.exports=e.p+"img/11.6f13210d.jpg"},affb:function(t,s,e){"use strict";e.r(s);e("55a0"),e("d4d5"),e("591a"),e("9d10");var i=e("f45b"),n={props:["operObj"],data:function(){return{isShow:!0,currentObj:{number:"1",name:"2",sex:"1"}}},mounted:function(){this.currentObj=JSON.parse(JSON.stringify(this.operObj)),console.log(this.operObj)},methods:{close:function(){this.isShow=!1,this.$emit("dialogClose")}},components:{}},o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}]},[i("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[i("x-dialog",{staticClass:"dialog-demo",attrs:{"hide-on-blur":!0},on:{"on-hide":t.close},model:{value:t.isShow,callback:function(s){t.isShow=s},expression:"isShow"}},[i("div",{staticClass:"img-box"},[t.currentObj&&t.currentObj.number?i("div",[i("div",{staticClass:"info-top"},[i("img",{attrs:{src:e("520a"),alt:""}})]),t._v(" "),i("div",{staticClass:"info-title"},[t._v(t._s(t.currentObj.number))]),t._v(" "),i("div",{staticClass:"info-name"},[t._v("\n              技师姓名:"+t._s(t.currentObj.name)+" \n              技师性别:"+t._s("1"==t.currentObj.sex?"男":"女")+"\n            ")]),t._v(" "),i("div",{staticClass:"info-list"},[i("div",{staticClass:"info-item"},[t._v("\n                班次信息"),i("span",[t._v("中（12:00 - 13:00）")])]),t._v(" "),i("div",{staticClass:"info-item"},[t._v("\n                上班状态"),i("span",[t._v("上班")])]),t._v(" "),i("div",{staticClass:"info-item"},[t._v("\n                所在房间"),i("span",[t._v("听雪楼")])]),t._v(" "),i("div",{staticClass:"info-item"},[t._v("\n                状态"),i("span",[t._v("加")])]),t._v(" "),i("div",{staticClass:"info-item"},[t._v("\n                时间"),i("span",[t._v("超时:1分钟")])])])]):t._e()]),t._v(" "),i("div",{on:{click:function(s){t.isShow=!1}}},[i("span",{staticClass:"vux-close"})])])],1)])},a=[],c=e("d082");function l(t){e("c6e9")}var r=!1,u=l,h="data-v-d0138322",v=null,d=Object(c["a"])(n,o,a,r,u,h,v),f=d.exports,p={props:["currentData"],data:function(){return{results:[],value:"",isInfoShow:!1,isShowPop:!1,menus:{menu1:"技师信息"},operObj:{number:""},pulldownDefaultConfig:{content:"下拉刷新",height:40,autoRefresh:!1,downContent:"下拉刷新",upContent:"释放后刷新",loadingContent:"正在刷新...",clsPrefix:"xs-plugin-pulldown-"},options3:["A","B","C"],option5:"B",currentInfo:{},listData:[]}},watch:{currentData:function(t,s){2==t&&this.getTecList()}},created:function(){var t=localStorage.getItem("currentInfo");this.currentInfo=JSON.parse(t),this.getTecList()},mounted:function(){},methods:{refresh:function(){this.getTecList()},getTecList:function(){var t=this,s={holderId:this.currentInfo.holderId,holderGroup:this.currentInfo.holdGroup};this.$ajaxPost(i["a"].GETTECHNICIANQUEUE,s).then(function(s){s&&(t.listData=s.data,setTimeout(function(){t.$refs.scrollerBottom.donePulldown()},1e3))})},dealOper:function(t){t=Number(t);var s="";switch(t){case 1:s="排";break;case 2:s="选";break;case 3:s="加";break;case 4:s="点";break}return s},dealStatus:function(t){t=Number(t);var s="";switch(t){case 1:s="暂停";break;case 2:s="空闲";break;case 3:s="上钟";break;case 4:s="待上";break;case 5:s="预约";break}return s},setFocus:function(){this.$refs.search.setFocus()},resultClick:function(t){window.alert("you click the result item: "+JSON.stringify(t))},getResult:function(t){console.log("on-change",t),this.results=t?this.getResult(this.value):[]},onSubmit:function(){this.$refs.search.setBlur(),this.$vux.toast.show({type:"text",position:"top",text:"on submit"})},onFocus:function(){console.log("on focus")},onCancel:function(){console.log("on cancel")},operItem:function(t){console.log(t),this.operObj=t,this.isShowPop=!0},dialogClose:function(){this.isInfoShow=!1},showModal:function(){this.isInfoShow=!0},closePop:function(){this.isShowPop=!1}},components:{technicianInfo:f}},m=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"technician-main"},[i("div",{staticClass:"technician-search"},[i("search",{ref:"search",attrs:{results:t.results,position:"absolute","auto-scroll-to-top":"",top:"0px"},on:{"result-click":t.resultClick,"on-change":t.getResult,"on-focus":t.onFocus,"on-cancel":t.onCancel,"on-submit":t.onSubmit},model:{value:t.value,callback:function(s){t.value=s},expression:"value"}})],1),t._v(" "),i("scroller",{ref:"scrollerBottom",attrs:{"use-pulldown":"","pulldown-config":t.pulldownDefaultConfig,"lock-x":"",height:"-40"},on:{"on-pulldown-loading":t.refresh}},[i("div",{staticStyle:{padding:"10px 0"}},[t.listData&&t.listData.length?i("div",{staticClass:"technician-container"},t._l(t.listData,function(s,e){return i("div",{key:e,staticClass:"tec-main clearfix"},[i("div",{staticClass:"tec-title"},[i("span",[t._v(t._s(s.depart.dName)+"（总计："+t._s(s.depart.totalPersonNum||0)+"人）")])]),t._v(" "),s.all_queue&&s.all_queue.length?i("div",{staticClass:"tec-content clearfix"},t._l(s.all_queue,function(s,e){return i("div",{key:e,staticClass:"tec-item",class:2!=s.workFlag||3!=s.statusFlag&&4!=s.statusFlag?1==s.finishWorkWillPauseFlag?"item-bg6":"item-bg"+s.statusFlag:"item-bg6",on:{click:function(e){return t.operItem(s)}}},[i("div",{staticClass:"item-top"},[i("div",{staticClass:"item-top-left"},[t._v("\n                "+t._s(1==s.sex?"女":"男")+"\n              ")]),t._v(" "),i("div",{staticClass:"item-top-center"},[t._v("\n                "+t._s(3==s.workFlag?"加":s.sortsName)+"\n              ")]),t._v(" "),i("div",{staticClass:"item-top-right"},[1==s.finishWorkWillPauseFlag?i("span",{staticClass:"iconfont icon-tianchongxing-"}):t._e()])]),t._v(" "),i("div",{staticClass:"item-center"},[t._v("\n              "+t._s(s.number)+"\n              "),t._v(" "),2!=s.workFlag||3!=s.statusFlag&&4!=s.statusFlag?t._e():i("div",{staticClass:"noWork"},[i("span",[t._v("下")]),t._v(" "),i("span",[t._v("班")])])]),t._v(" "),i("div",{staticClass:"item-bottom"},[i("div",{staticClass:"item-bottom-left"},[t._v("\n                "+t._s(s.paizhong)+"\n              ")]),t._v(" "),i("div",{staticClass:"item-bottom-center"},[3!=s.statusFlag?i("span",{staticClass:"item-bottom-center-span"},[t._v(t._s(t.dealStatus(s.statusFlag)))]):i("span",{staticClass:"item-bottom-center-span"},[t._v(t._s(t.dealOper(s.oper)))])]),t._v(" "),i("div",{staticClass:"item-bottom-right"},[t._v("\n                "+t._s(s.dianzhong)+"\n              ")])])])}),0):i("div",{staticClass:"tec-content clearfix"},[i("div",{staticClass:"noData"},[t._v("暂无数据")])]),t._v(" "),i("div",{staticClass:"tec-footer"},[t._v("空闲："+t._s(s.depart.freePersonNum)+"人  /  忙碌："+t._s(s.depart.workingPersonNum)+"人")])])}),0):i("div",{staticClass:"technician-container"},[i("img",{staticClass:"noDate_img",attrs:{src:e("dd02"),alt:""}})]),t._v(" "),i("x-switch",{attrs:{title:"开关"},model:{value:t.isShowPop,callback:function(s){t.isShowPop=s},expression:"isShowPop"}})],1)]),t._v(" "),t.isInfoShow?i("technicianInfo",{attrs:{operObj:t.operObj},on:{dialogClose:t.dialogClose}}):t._e(),t._v(" "),i("actionsheet",{attrs:{menus:t.menus,"close-on-clicking-mask":!0},on:{"on-click-mask":t.closePop,"on-click-menu":t.showModal},model:{value:t.isShowPop,callback:function(s){t.isShowPop=s},expression:"isShowPop"}},[i("p",{attrs:{slot:"header"},slot:"header"},[t._v("技师"+t._s(t.operObj.number||"")+"操作列表")])])],1)},_=[],g=!1,w=null,b=null,C=null,S=Object(c["a"])(p,m,_,g,w,b,C);s["default"]=S.exports},c6e9:function(t,s,e){var i=e("30a8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("85cb").default;n("6a241163",i,!0,{})},dd02:function(t,s,e){t.exports=e.p+"img/wushuju.e3e224a5.png"},f45b:function(t,s,e){"use strict";e.d(s,"a",function(){return n});var i="https://szy.kiloxy.com";i="https://szy.kiloxy.com";var n={BASE_URL:i,in_theaters:"movie/in_theaters",LOGIN:"user-api/mlogin",GETBUSINESSDATEINFO:i+"/wechatMini/getBusinessDateInfo",GETBUSINESSBASEINFO:i+"/wechatMini/getBusinessBaseInfo",GETBILLINFOWITHOUTFREE:i+"/wechatMini/getBillInfoWithoutFree",GETBILLINFOWITHFREE:i+"/wechatMini/getBillInfoWithFree",GETRECHARGESUMINFO:i+"/wechatMini/getRechargeSumInfo",GETCASHFLOWSUMINFO:i+"/wechatMini/getCashFlowSumInfo",GETROOMSTATUSINFO:i+"/wechatMini/getRoomStatusInfo",GETROOMINFO:i+"/wechatMini/getRoomInfo",GETTECHNICIANQUEUE:i+"/wechatMini/getTechnicianQueue"}}}]);
//# sourceMappingURL=technician.cffb38ee.js.map